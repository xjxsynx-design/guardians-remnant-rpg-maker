
:root{
  --bg0:#050607;
  --bg1:#0a0c0e;
  --panel:#0f1216;
  --panel2:#141922;
  --ink:#e8edf2;
  --muted:#aab3bd;
  --gold:#c8a23a;
  --gold2:#f2d37a;
  --danger:#a23a3a;
  --shadow: rgba(0,0,0,.55);
  --bevel-hi: rgba(255,255,255,.10);
  --bevel-lo: rgba(0,0,0,.55);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:
    radial-gradient(1200px 600px at 50% 0%, #1a222c 0%, transparent 55%),
    linear-gradient(#0b0d10, #050607);
  color:var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
}

#app{
  max-width: 560px;
  margin: 0 auto;
  padding: calc(14px + env(safe-area-inset-top)) 14px calc(18px + env(safe-area-inset-bottom));
}

.hud{
  text-align:center;
  margin-bottom: 10px;
}
.title-row{
  display:flex;
  gap:10px;
  align-items:baseline;
  justify-content:center;
  flex-wrap:wrap;
}
h1{
  margin:0;
  font-size: clamp(24px, 6vw, 40px);
  letter-spacing: .5px;
  text-shadow: 0 6px 18px rgba(0,0,0,.65);
}
.badge{
  font-weight:700;
  font-size: 14px;
  letter-spacing: .12em;
  text-transform: uppercase;
  color: var(--muted);
  opacity:.9;
  padding:6px 10px;
  border-radius:10px;
  background: linear-gradient(#111723, #0c1017);
  box-shadow: 0 8px 20px rgba(0,0,0,.35), inset 0 1px 0 var(--bevel-hi);
}
.status{
  margin-top: 6px;
  color: var(--muted);
  font-weight: 700;
  letter-spacing: .02em;
  text-shadow: 0 2px 10px rgba(0,0,0,.55);
}

.panel{
  background: linear-gradient(#121722, #0c0f14);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 18px;
  box-shadow: 0 14px 40px var(--shadow), inset 0 1px 0 rgba(255,255,255,.08);
  padding: 12px;
  margin: 10px 0;
}

.panel-top .row,
.panel-mid .row{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
  align-items:center;
}

.tools{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
}

.seg{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
}

.btn{
  border: 2px solid rgba(0,0,0,.35);
  border-radius: 14px;
  padding: 10px 14px;
  background: linear-gradient(#2a2f37, #171b21);
  color: var(--ink);
  font-weight: 900;
  letter-spacing:.02em;
  box-shadow:
    0 10px 18px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.08),
    inset 0 -2px 0 rgba(0,0,0,.45);
  user-select:none;
  -webkit-tap-highlight-color: transparent;
}

.btn:active{ transform: translateY(1px); }
.btn.danger{
  box-shadow:
    0 10px 18px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.08),
    inset 0 -2px 0 rgba(0,0,0,.45);
  border-color: rgba(162,58,58,.35);
}

.btn.pixel{
  /* “updated ALTTP” feel: slightly squarer + harder edges */
  border-radius: 12px;
  position: relative;
}
.btn.pixel::after{
  content:"";
  position:absolute;
  inset: 2px;
  border-radius: 10px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
  pointer-events:none;
}

.btn.active{
  border-color: rgba(0,0,0,.35);
  box-shadow:
    0 10px 18px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.08),
    inset 0 -2px 0 rgba(0,0,0,.45);
  outline: none;
}
.btn.active{
  /* pixel-ish gold outline without resizing */
  box-shadow:
    0 10px 18px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.08),
    inset 0 -2px 0 rgba(0,0,0,.45),
    0 0 0 2px var(--gold),
    0 0 0 4px rgba(0,0,0,.55);
}

.palette-row{
  align-items:flex-start;
}
.palette-title{
  min-width: 56px;
  color: var(--muted);
  font-weight: 900;
  letter-spacing:.08em;
  text-transform: uppercase;
  padding-top: 6px;
}
.palette{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  justify-content:center;
  flex:1;
}

.tilebtn{
  width: 96px;
  height: 96px;
  border-radius: 16px;
  padding: 10px;
  background: linear-gradient(#1c2230, #10141c);
  border: 1px solid rgba(255,255,255,.07);
  box-shadow: 0 10px 20px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:8px;
  color: var(--muted);
  font-weight: 900;
  letter-spacing:.01em;
  -webkit-tap-highlight-color: transparent;
  user-select:none;
}
.tilebtn .label{
  font-size: .82rem;
  opacity:.75;
  text-shadow: 0 2px 10px rgba(0,0,0,.55);
}
.tilebtn.active .label{ opacity: 1; color: var(--ink); }
.tilebtn canvas{
  width: 52px;
  height: 52px;
  image-rendering: pixelated;
  border-radius: 12px;
  box-shadow:
    0 0 0 2px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.12),
    inset 0 -2px 0 rgba(0,0,0,.55);
}
.tilebtn.active{
  box-shadow:
    0 10px 20px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.08),
    0 0 0 2px var(--gold),
    0 0 0 4px rgba(0,0,0,.55);
}

.panel-map{
  padding: 12px;
}
.map-wrap{
  display:flex;
  justify-content:center;
  align-items:center;
  margin: 8px 0 6px;
}
#map{
  width: min(92vw, 520px);
  aspect-ratio: 1 / 1;
  border-radius: 18px;
  background: linear-gradient(#0b0e12, #07090b);
  border: 1px solid rgba(255,255,255,.08);
  box-shadow:
    0 18px 50px rgba(0,0,0,.55),
    inset 0 1px 0 rgba(255,255,255,.06),
    inset 0 -2px 0 rgba(0,0,0,.65);
  touch-action: none; /* important for painting */
  image-rendering: pixelated;
}

.hint{
  text-align:center;
  color: rgba(170,179,189,.9);
  font-weight: 700;
  font-size: .92rem;
}

.footer-space{
  height: calc(22px + env(safe-area-inset-bottom));
}

/* smaller screens: reduce palette tile size a bit */
@media (max-width: 380px){
  .tilebtn{ width: 88px; height: 88px; }
  .tilebtn canvas{ width: 48px; height: 48px; }
}
